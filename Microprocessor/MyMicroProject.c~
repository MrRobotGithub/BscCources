/*
 * MyMicroProject.c
 *
 * Created: 08/01/2017 12:31:12 Þ.Ù
 * Author: hell
 */

#include <io.h>
#include <mega32.h>
#include <delay.h>
#include <stdio.h>
#include <string.h>
#include "Includes/graph.h"
#include "Includes/GLCD.h"
#include "Includes/seq2.h"
//#include "Includes/font5x7.h"

void TX_ON(unsigned int boud,unsigned char fosc)

{
unsigned char x;
x=fosc/(0.000064*boud);
x-=1;
UBRRL=x; 
UBRRH=x>>8;
UCSRB |=(1 << TXEN); 
UCSRC |= (1 << URSEL) | (1 << UCSZ0) | (1 << UCSZ1);
}


void tx_putc(unsigned char send)
{
while ((UCSRA & (1 << UDRE)) == 0);
UDR = send; 
}

int key(void)
{   while(1){
    DDRB=0x00;
    DDRC.7=0;
    PORTB=0X0f;
    DDRB=0b00010000; //ÇÚãÇá æáÊÇŽ ÕÝÑ Èå ÓÊæä í˜ ÈÇ ÎÑæÌí ˜ÑÏä Çíå ãæÑÏ äÙÑ
    
    if(PINB.0==0)return 1;
    if(PINB.1==0)return 5;
    if(PINB.2==0)return 9;
    if(PINB.3==0)return 13;
     
    DDRB=0b00100000;
    if(PINB.0==0)return 2;
    if(PINB.1==0)return 6;
    if(PINB.2==0)return 10;
    if(PINB.3==0)return 14;
     
    DDRB=0b01000000;
    if(PINB.0==0)return 3;
    if(PINB.1==0)return 7;
    if(PINB.2==0)return 11;
    if(PINB.3==0)return 15;
    
    DDRB=0b10000000;
    if(PINB.0==0)return 4;
    if(PINB.1==0)return 8;
    if(PINB.2==0)return 12;
    if(PINB.3==0)return 16;
     
    DDRC.7=1;
    if(PINB.0==0)return 20;
    if(PINB.1==0)return 21;
    if(PINB.2==0)return 22;
    if(PINB.3==0)return 23;
    //return 255;
    }  
}
int Namayesh_Kelid_Feshorde_SHode(int page)
{   unsigned char str[] = "1-SELECT PATTERN";
    unsigned char str1[] = "2-DIFINE PATTERN";
    unsigned char str2[] = "3-TEMPERATURE";  
    int y,x=1; 
    glcd_clear();
    glcd_puts(str,0,1,0,1,0);
    glcd_puts(str1,0,3,0,1,0);     //put another English string at column 5,row 3
    glcd_puts(str2,0,5,0,1,0);   //Put an Arabic string at column 15,row 6 
    //while(1){
    y = key();
    //}
    if(y == 1) {
        
        page=12;  
        return page;
        delay_ms(250);}    
    if(y == 2) { 
         page=22;
         return page;
         delay_ms(250);} 
    if(y == 3) { 
         page=32;    
         return page;
         delay_ms(250);} 
    
   
}
int Namayesh_Kelid_Feshorde_SHode2(int page)
{   unsigned char str3[] = "1-PATTERN1";
    unsigned char str4[] = "2-PATTERN2";
    unsigned char str5[] = "3-PATTERN3";
    unsigned char str6[] = "4-PATTERN4";
    unsigned char str7[] = "5-PATTERN5";
    unsigned char str8[] = "6-PATTERN6";
    unsigned char str9[] = "7-PATTERN7";
    unsigned char str10[] = "8-PATTERN8"; 
    unsigned char home[] = "HOME"; 
    int y;
    glcd_clear(); 
    glcd_puts(str3,0,0,0,1,0);
    glcd_puts(str4,0,1,0,1,0);
    glcd_puts(str5,0,2,0,1,0);
    glcd_puts(str6,0,3,0,1,0);
    glcd_puts(str7,0,4,0,1,0);
    glcd_puts(str8,0,5,0,1,0);
    glcd_puts(str9,0,6,0,1,0);
    glcd_puts(str10,0,7,0,1,0);
    glcd_puts(home,0,0,1,1,0);
    y = key();  
    if(y == 1) {
        unsigned char a[]="100000000000000000000000";
        puts(a);      
        //putsf("10000000/r");
        //while(y==1);
         page=12;  
         return page;
        
          
        delay_ms(250);}    
    if(y == 2) {
         unsigned char a[]="100100000000000000000000";
         puts(a);  
         //putsf("10010000/r");
         //while(y==2);
         page=12;  
         return page;
          
         delay_ms(250);} 
    if(y == 3) { 
         unsigned char a[]="101000000000000000000000";
         puts(a); 
         //putsf("10100000/r");
         //while(y==3); 
         page=12;  
         return page;
         delay_ms(250);} 
    if(y == 4) {
         unsigned char a[]="101100000000000000000000";
         puts(a);  
         //putsf("10110000/r");
         //while(y==4);
         page=12;  
         return page;
         delay_ms(250);} 
    if(y == 5) { 
         unsigned char a[]="110000000000000000000000";
         puts(a); 
         //putsf("11000000/r");
         //while(y==5);
         page=12;
         return page;
         delay_ms(250);} 
    if(y == 6) { 
         unsigned char a[]="110100000000000000000000";
         puts(a); 
         //putsf("11010000/r");
         //while(y==6);
         page=12; 
         return page;
         delay_ms(250);} 
    if(y == 7) {  
         unsigned char a[]="111000000000000000000000";
         puts(a); 
         //putsf("11100000/r");
         //while(y==7);
         page=12; 
         return page;
         delay_ms(250);} 
    if(y == 8) {
         unsigned char a[]="111100000000000000000000";
         puts(a);  
         //putsf("11110000/r");
         //while(y==8);
         page=12;
         return page;
         delay_ms(250);} 
    if(y == 23) { 
         page=1;  
         return page;
         delay_ms(250);}
    
    
   
}
void show_pattern(unsigned char a[]){
     
    unsigned int x=0,y=20,i; 
    unsigned char b='8';
    glcd_clear(); 
    for(i=1;i<17;i++){ 
    glcd_putchar(a[i],y,x,1, 1);  
    y=y+10;
    if(y==60){
      x=x+2;
      y=20;
    }
    }
}

int Namayesh_Kelid_Feshorde_SHode3(int page)
{   unsigned char str3[] = "1-PATTERN1";
    unsigned char str4[] = "2-PATTERN2";
    unsigned char str5[] = "3-PATTERN3";
    unsigned char str6[] = "4-PATTERN4";
    unsigned char str7[] = "5-PATTERN5";
    unsigned char str8[] = "6-PATTERN6";
    unsigned char str9[] = "7-PATTERN7";
    unsigned char str10[] = "8-PATTERN8"; 
    unsigned char home[] = "HOME";
    int y; 
    glcd_clear();
    glcd_puts(str3,0,0,0,1,0);
    glcd_puts(str4,0,1,0,1,0);
    glcd_puts(str5,0,2,0,1,0);
    glcd_puts(str6,0,3,0,1,0);
    glcd_puts(str7,0,4,0,1,0);
    glcd_puts(str8,0,5,0,1,0);
    glcd_puts(str9,0,6,0,1,0);
    glcd_puts(str10,0,7,0,1,0);
    glcd_puts(home,0,0,1,1,0);
    y = key();    
    if(y == 1) {
        int z,w;  
        unsigned char a[]="01111111111111111";
        unsigned char str3[] = "new"; 
        unsigned char str4[] = "select block"; 
        while(z!=22){ 
        show_pattern(a); 
        delay_ms(250);
        glcd_clear();
        glcd_puts(str3,0,0,0,1,0);
        delay_ms(250);
        //delay_ms(250); 
         
        z = key(); 
        if(a[z]=='0'){
            a[z]='1';
        }else{
            a[z]='0';
        }
        //show_pattern(a);  
        }
        glcd_clear();
        glcd_puts(str4,0,0,0,1,0);
        delay_ms(250);
        w=key();
        if(w==1){
          a[17]='0';a[18]='0';a[19]='0';a[20]='0',a[21]='0',a[22]='0',a[23]='0';
          puts(a);
          //putsf("00000000/r");
          }
        if(w==2){
          a[17]='0';a[18]='0';a[19]='0';a[20]='0',a[21]='0',a[22]='0',a[23]='1';
          puts(a);
          //putsf("00000001/r");  
        }
        if(w==3) {
          a[17]='0';a[18]='0';a[19]='0';a[20]='0',a[21]='0',a[22]='1',a[23]='0';
          puts(a);
          //putsf("00000010/r"); 
        }
        if(w==4){
          a[17]='0';a[18]='0';a[19]='0';a[20]='0',a[21]='0',a[22]='1',a[23]='1';
          puts(a);
          //putsf("00000011/r");
        } 
        if(w==5){
          a[17]='0';a[18]='0';a[19]='0';a[20]='0',a[21]='1',a[22]='0',a[23]='0';
          puts(a);
          //putsf("00000100/r");
        } 
        if(w==6){
          a[17]='0';a[18]='0';a[19]='0';a[20]='0',a[21]='1',a[22]='0',a[23]='1';
          puts(a);
          //putsf("00000101/r");
        } 
        if(w==7){
          a[17]='0';a[18]='0';a[19]='0';a[20]='0',a[21]='1',a[22]='1',a[23]='0';
          puts(a);
          //putsf("00000110/r"); 
        }
        if(w==8){
          a[17]='0';a[18]='0';a[19]='0';a[20]='0',a[21]='1',a[22]='1',a[23]='1';
          puts(a);
          //putsf("00000111/r");
        }   
        if(w==9){
          a[17]='0';a[18]='0';a[19]='0';a[20]='1',a[21]='0',a[22]='0',a[23]='0';
          puts(a);
          //putsf("00001000/r");
        }
        if(w==10){
          a[17]='0';a[18]='0';a[19]='0';a[20]='1',a[21]='0',a[22]='0',a[23]='1';
          puts(a);
          //putsf("00001001/r");
        } 
        if(w==11){
          a[17]='0';a[18]='0';a[19]='0';a[20]='1',a[21]='0',a[22]='1',a[23]='0';
          puts(a);
          //putsf("00001010/r");  
        }
        if(w==12){
          a[17]='0';a[18]='0';a[19]='0';a[20]='1',a[21]='0',a[22]='1',a[23]='1';
          puts(a);
          //putsf("00001011/r");
        } 
        if(w==13){
          a[17]='0';a[18]='0';a[19]='0';a[20]='1',a[21]='1',a[22]='0',a[23]='0';
          puts(a);
          //putsf("00001100/r"); 
        }
        if(w==14){
          a[17]='0';a[18]='0';a[19]='0';a[20]='1',a[21]='1',a[22]='0',a[23]='1';
          puts(a);
          //putsf("00001101/r"); 
        }
        if(w==15){
          a[17]='0';a[18]='0';a[19]='0';a[20]='1',a[21]='1',a[22]='1',a[23]='0';
          puts(a);
          //putsf("00001110/r");
        } 
        if(w==16){
          a[17]='0';a[18]='0';a[19]='0';a[20]='1',a[21]='1',a[22]='1',a[23]='1';
          puts(a);
          //putsf("00001111/r"); 
        }    
        delay_ms(250);}    
    if(y == 2) { 
         int z,w;  
         unsigned char a[]="00101010101010101";
         unsigned char str3[] = "new"; 
        unsigned char str4[] = "select block"; 
        while(z!=22){ 
        show_pattern(a); 
        delay_ms(250);
        glcd_clear();
        glcd_puts(str3,0,0,0,1,0);
        delay_ms(250);
        //delay_ms(250); 
         
        z = key(); 
        if(a[z-1]=='0'){
            a[z-1]='1';
        }else{
            a[z-1]='0';
        }
        //show_pattern(a);  
        }
        glcd_clear();
        glcd_puts(str4,0,0,0,1,0);
        delay_ms(250);
        w=key();
        if(w==1){
          a[16]='0';a[17]='0';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00000000/r");
          }
        if(w==2){
          a[16]='0';a[17]='0';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00000001/r");  
        }
        if(w==3) {
          a[16]='0';a[17]='0';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00000010/r"); 
        }
        if(w==4){
          a[16]='0';a[17]='0';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00000011/r");
        } 
        if(w==5){
          a[16]='0';a[17]='1';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00000100/r");
        } 
        if(w==6){
          a[16]='0';a[17]='1';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00000101/r");
        } 
        if(w==7){
          a[16]='0';a[17]='1';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00000110/r"); 
        }
        if(w==8){
          a[16]='0';a[17]='1';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00000111/r");
        }   
        if(w==9){
          a[16]='1';a[17]='0';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00001000/r");
        }
        if(w==10){
          a[16]='1';a[17]='0';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00001001/r");
        } 
        if(w==11){
          a[16]='1';a[17]='0';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00001010/r");  
        }
        if(w==12){
          a[16]='1';a[17]='0';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00001011/r");
        } 
        if(w==13){
          a[16]='1';a[17]='1';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00001100/r"); 
        }
        if(w==14){
          a[16]='1';a[17]='1';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00001101/r"); 
        }
        if(w==15){
          a[16]='1';a[17]='1';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00001110/r");
        } 
        if(w==16){
          a[16]='1';a[17]='1';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00001111/r"); 
        } 
         
          
         delay_ms(250);} 
    if(y == 3) {
        int z,w;
        unsigned char a[]="00110001100110011";
        unsigned char str3[] = "new"; 
        unsigned char str4[] = "select block"; 
        while(z!=22){ 
        show_pattern(a); 
        delay_ms(250);
        glcd_clear();
        glcd_puts(str3,0,0,0,1,0);
        delay_ms(250);
        //delay_ms(250); 
         
        z = key(); 
        if(a[z-1]=='0'){
            a[z-1]='1';
        }else{
            a[z-1]='0';
        }
        //show_pattern(a);  
        }
        glcd_clear();
        glcd_puts(str4,0,0,0,1,0);
        delay_ms(250);
        w=key();
        if(w==1){
          a[16]='0';a[17]='0';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00000000/r");
          }
        if(w==2){
          a[16]='0';a[17]='0';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00000001/r");  
        }
        if(w==3) {
          a[16]='0';a[17]='0';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00000010/r"); 
        }
        if(w==4){
          a[16]='0';a[17]='0';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00000011/r");
        } 
        if(w==5){
          a[16]='0';a[17]='1';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00000100/r");
        } 
        if(w==6){
          a[16]='0';a[17]='1';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00000101/r");
        } 
        if(w==7){
          a[16]='0';a[17]='1';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00000110/r"); 
        }
        if(w==8){
          a[16]='0';a[17]='1';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00000111/r");
        }   
        if(w==9){
          a[16]='1';a[17]='0';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00001000/r");
        }
        if(w==10){
          a[16]='1';a[17]='0';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00001001/r");
        } 
        if(w==11){
          a[16]='1';a[17]='0';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00001010/r");  
        }
        if(w==12){
          a[16]='1';a[17]='0';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00001011/r");
        } 
        if(w==13){
          a[16]='1';a[17]='1';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00001100/r"); 
        }
        if(w==14){
          a[16]='1';a[17]='1';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00001101/r"); 
        }
        if(w==15){
          a[16]='1';a[17]='1';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00001110/r");
        } 
        if(w==16){
          a[16]='1';a[17]='1';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00001111/r"); 
        } 
         delay_ms(250);} 
    if(y == 4) {
        int z,w;   
        unsigned char a[]="00011011111101011";
        unsigned char str3[] = "new"; 
        unsigned char str4[] = "select block"; 
        while(z!=22){ 
        show_pattern(a); 
        delay_ms(250);
        glcd_clear();
        glcd_puts(str3,0,0,0,1,0);
        delay_ms(250);
        //delay_ms(250); 
         
        z = key(); 
        if(a[z-1]=='0'){
            a[z-1]='1';
        }else{
            a[z-1]='0';
        }
        //show_pattern(a);  
        }
        glcd_clear();
        glcd_puts(str4,0,0,0,1,0);
        delay_ms(250);
        w=key();
        if(w==1){
          a[16]='0';a[17]='0';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00000000/r");
          }
        if(w==2){
          a[16]='0';a[17]='0';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00000001/r");  
        }
        if(w==3) {
          a[16]='0';a[17]='0';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00000010/r"); 
        }
        if(w==4){
          a[16]='0';a[17]='0';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00000011/r");
        } 
        if(w==5){
          a[16]='0';a[17]='1';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00000100/r");
        } 
        if(w==6){
          a[16]='0';a[17]='1';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00000101/r");
        } 
        if(w==7){
          a[16]='0';a[17]='1';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00000110/r"); 
        }
        if(w==8){
          a[16]='0';a[17]='1';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00000111/r");
        }   
        if(w==9){
          a[16]='1';a[17]='0';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00001000/r");
        }
        if(w==10){
          a[16]='1';a[17]='0';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00001001/r");
        } 
        if(w==11){
          a[16]='1';a[17]='0';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00001010/r");  
        }
        if(w==12){
          a[16]='1';a[17]='0';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00001011/r");
        } 
        if(w==13){
          a[16]='1';a[17]='1';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00001100/r"); 
        }
        if(w==14){
          a[16]='1';a[17]='1';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00001101/r"); 
        }
        if(w==15){
          a[16]='1';a[17]='1';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00001110/r");
        } 
        if(w==16){
          a[16]='1';a[17]='1';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00001111/r"); 
        } 
         delay_ms(250);} 
    if(y == 5) {
        int z,w; 
        unsigned char a[]="00001011111101101";
        unsigned char str3[] = "new"; 
        unsigned char str4[] = "select block"; 
        while(z!=22){ 
        show_pattern(a); 
        delay_ms(250);
        glcd_clear();
        glcd_puts(str3,0,0,0,1,0);
        delay_ms(250);
        //delay_ms(250); 
         
        z = key(); 
        if(a[z-1]=='0'){
            a[z-1]='1';
        }else{
            a[z-1]='0';
        }
        //show_pattern(a);  
        }
        glcd_clear();
        glcd_puts(str4,0,0,0,1,0);
        delay_ms(250);
        w=key();
        if(w==1){
          a[16]='0';a[17]='0';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00000000/r");
          }
        if(w==2){
          a[16]='0';a[17]='0';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00000001/r");  
        }
        if(w==3) {
          a[16]='0';a[17]='0';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00000010/r"); 
        }
        if(w==4){
          a[16]='0';a[17]='0';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00000011/r");
        } 
        if(w==5){
          a[16]='0';a[17]='1';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00000100/r");
        } 
        if(w==6){
          a[16]='0';a[17]='1';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00000101/r");
        } 
        if(w==7){
          a[16]='0';a[17]='1';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00000110/r"); 
        }
        if(w==8){
          a[16]='0';a[17]='1';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00000111/r");
        }   
        if(w==9){
          a[16]='1';a[17]='0';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00001000/r");
        }
        if(w==10){
          a[16]='1';a[17]='0';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00001001/r");
        } 
        if(w==11){
          a[16]='1';a[17]='0';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00001010/r");  
        }
        if(w==12){
          a[16]='1';a[17]='0';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00001011/r");
        } 
        if(w==13){
          a[16]='1';a[17]='1';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00001100/r"); 
        }
        if(w==14){
          a[16]='1';a[17]='1';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00001101/r"); 
        }
        if(w==15){
          a[16]='1';a[17]='1';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00001110/r");
        } 
        if(w==16){
          a[16]='1';a[17]='1';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00001111/r"); 
        } 
         delay_ms(250);} 
    if(y == 6) { 
        int z,w;
        unsigned char a[]="01111000000001111";
        unsigned char str3[] = "new"; 
        unsigned char str4[] = "select block"; 
        while(z!=22){ 
        show_pattern(a); 
        delay_ms(250);
        glcd_clear();
        glcd_puts(str3,0,0,0,1,0);
        delay_ms(250);
        //delay_ms(250); 
         
        z = key(); 
        if(a[z-1]=='0'){
            a[z-1]='1';
        }else{
            a[z-1]='0';
        }
        //show_pattern(a);  
        }
        glcd_clear();
        glcd_puts(str4,0,0,0,1,0);
        delay_ms(250);
        w=key();
        if(w==1){
          a[16]='0';a[17]='0';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00000000/r");
          }
        if(w==2){
          a[16]='0';a[17]='0';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00000001/r");  
        }
        if(w==3) {
          a[16]='0';a[17]='0';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00000010/r"); 
        }
        if(w==4){
          a[16]='0';a[17]='0';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00000011/r");
        } 
        if(w==5){
          a[16]='0';a[17]='1';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00000100/r");
        } 
        if(w==6){
          a[16]='0';a[17]='1';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00000101/r");
        } 
        if(w==7){
          a[16]='0';a[17]='1';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00000110/r"); 
        }
        if(w==8){
          a[16]='0';a[17]='1';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00000111/r");
        }   
        if(w==9){
          a[16]='1';a[17]='0';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00001000/r");
        }
        if(w==10){
          a[16]='1';a[17]='0';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00001001/r");
        } 
        if(w==11){
          a[16]='1';a[17]='0';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00001010/r");  
        }
        if(w==12){
          a[16]='1';a[17]='0';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00001011/r");
        } 
        if(w==13){
          a[16]='1';a[17]='1';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00001100/r"); 
        }
        if(w==14){
          a[16]='1';a[17]='1';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00001101/r"); 
        }
        if(w==15){
          a[16]='1';a[17]='1';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00001110/r");
        } 
        if(w==16){
          a[16]='1';a[17]='1';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00001111/r"); 
        } 
         delay_ms(250);} 
    if(y == 7) { 
        int z,w; 
        unsigned char a[]="00101111111100101";
        unsigned char str3[] = "new"; 
        unsigned char str4[] = "select block"; 
        while(z!=22){ 
        show_pattern(a); 
        delay_ms(250);
        glcd_clear();
        glcd_puts(str3,0,0,0,1,0);
        delay_ms(250);
        //delay_ms(250); 
         
        z = key(); 
        if(a[z-1]=='0'){
            a[z-1]='1';
        }else{
            a[z-1]='0';
        }
        //show_pattern(a);  
        }
        glcd_clear();
        glcd_puts(str4,0,0,0,1,0);
        delay_ms(250);
        w=key();
        if(w==1){
          a[16]='0';a[17]='0';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00000000/r");
          }
        if(w==2){
          a[16]='0';a[17]='0';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00000001/r");  
        }
        if(w==3) {
          a[16]='0';a[17]='0';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00000010/r"); 
        }
        if(w==4){
          a[16]='0';a[17]='0';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00000011/r");
        } 
        if(w==5){
          a[16]='0';a[17]='1';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00000100/r");
        } 
        if(w==6){
          a[16]='0';a[17]='1';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00000101/r");
        } 
        if(w==7){
          a[16]='0';a[17]='1';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00000110/r"); 
        }
        if(w==8){
          a[16]='0';a[17]='1';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00000111/r");
        }   
        if(w==9){
          a[16]='1';a[17]='0';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00001000/r");
        }
        if(w==10){
          a[16]='1';a[17]='0';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00001001/r");
        } 
        if(w==11){
          a[16]='1';a[17]='0';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00001010/r");  
        }
        if(w==12){
          a[16]='1';a[17]='0';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00001011/r");
        } 
        if(w==13){
          a[16]='1';a[17]='1';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00001100/r"); 
        }
        if(w==14){
          a[16]='1';a[17]='1';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00001101/r"); 
        }
        if(w==15){
          a[16]='1';a[17]='1';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00001110/r");
        } 
        if(w==16){
          a[16]='1';a[17]='1';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00001111/r"); 
        } 
         delay_ms(250);} 
    if(y == 8) {
        int z,w; 
        unsigned char a[]="00101110101110111";
        unsigned char str3[] = "new"; 
        unsigned char str4[] = "select block"; 
        while(z!=22){ 
        show_pattern(a); 
        delay_ms(250);
        glcd_clear();
        glcd_puts(str3,0,0,0,1,0);
        delay_ms(250);
        //delay_ms(250); 
         
        z = key(); 
        if(a[z-1]=='0'){
            a[z-1]='1';
        }else{
            a[z-1]='0';
        }
        //show_pattern(a);  
        }
        glcd_clear();
        glcd_puts(str4,0,0,0,1,0);
        delay_ms(250);
        w=key();
        if(w==1){
          a[16]='0';a[17]='0';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00000000/r");
          }
        if(w==2){
          a[16]='0';a[17]='0';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00000001/r");  
        }
        if(w==3) {
          a[16]='0';a[17]='0';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00000010/r"); 
        }
        if(w==4){
          a[16]='0';a[17]='0';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00000011/r");
        } 
        if(w==5){
          a[16]='0';a[17]='1';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00000100/r");
        } 
        if(w==6){
          a[16]='0';a[17]='1';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00000101/r");
        } 
        if(w==7){
          a[16]='0';a[17]='1';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00000110/r"); 
        }
        if(w==8){
          a[16]='0';a[17]='1';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00000111/r");
        }   
        if(w==9){
          a[16]='1';a[17]='0';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00001000/r");
        }
        if(w==10){
          a[16]='1';a[17]='0';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00001001/r");
        } 
        if(w==11){
          a[16]='1';a[17]='0';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00001010/r");  
        }
        if(w==12){
          a[16]='1';a[17]='0';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00001011/r");
        } 
        if(w==13){
          a[16]='1';a[17]='1';a[18]='0';a[19]='0';
          puts(a);
          //putsf("00001100/r"); 
        }
        if(w==14){
          a[16]='1';a[17]='1';a[18]='0';a[19]='1';
          puts(a);
          //putsf("00001101/r"); 
        }
        if(w==15){
          a[16]='1';a[17]='1';a[18]='1';a[19]='0';
          puts(a);
          //putsf("00001110/r");
        } 
        if(w==16){
          a[16]='1';a[17]='1';a[18]='1';a[19]='1';
          puts(a);
          //putsf("00001111/r"); 
        } 
         delay_ms(250);} 
    if(y ==23) { 
         page=1;  
         return page;
         delay_ms(250);}
    
    
   
}
int Namayesh_Kelid_Feshorde_SHode4(int page){
    char buffer[50];
    char buffer1[]="Temp=";  
    unsigned char home[] = "HOME";
    int y;  
    
    glcd_clear();
    scanf("%s",buffer); 
    glcd_puts(buffer1,0,3,0,1,0);
    glcd_puts(buffer,2,5,0,1,0);  
    /*glcd_puts(home,0,7,0,1,0);  
    y=key();
   
    if(y ==23) { 
      page=1;  
      return page;
      delay_ms(250);}     */
    
}
void main(void)
{

	
#pragma used+
int i,j,count,length,l,k,y=0,page=1,ii;
char buf[];
byte read_data;
byte read_arr[30];



#pragma used-

DDRD=0x80;
DDRC = 0x0F;

UCSRA=(0<<RXC) | (0<<TXC) | (0<<UDRE) | (0<<FE) | (0<<DOR) | (0<<UPE) | (0<<U2X) | (0<<MPCM);
UCSRB=(0<<RXCIE) | (0<<TXCIE) | (0<<UDRIE) | (1<<RXEN) | (1<<TXEN) | (0<<UCSZ2) | (0<<RXB8) | (0<<TXB8);
UCSRC=(1<<URSEL) | (0<<UMSEL) | (0<<UPM1) | (0<<UPM0) | (0<<USBS) | (1<<UCSZ1) | (1<<UCSZ0) | (0<<UCPOL);
UBRRH=0x00;
UBRRL=0x33;

glcd_on();





//DDRB=0x0f;
//PORTB=0Xf0;




while (1)
    {
    // Please write your application code here
   // for(ii=0;ii<100;ii++){
    if(page==1){ 
    if(y<255){
    page=Namayesh_Kelid_Feshorde_SHode(page);
    }
    }  
         
    if(page==12){ 
    if(y<255){
    page=Namayesh_Kelid_Feshorde_SHode2(page);
    }
    } 
          
    if(page==22){ 
    if(y<255){
    page=Namayesh_Kelid_Feshorde_SHode3(page);
    }
    }   
        
    if(page==32){ 
    if(y<255){
    page=Namayesh_Kelid_Feshorde_SHode4(page);
    }
          
    }
    }
    

}
